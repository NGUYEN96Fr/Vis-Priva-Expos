/home/users/vnguyen/intern20/Vis-Priva-Expos/privacy/lib/clustering/clustering.py:47: ConvergenceWarning: Number of distinct clusters (1) found smaller than n_clusters (2). Possibly due to duplicate points in X.
  kmeans = KMeans(n_clusters=N, random_state=0).fit(aggregated_features)
/home/users/vnguyen/intern20/Vis-Priva-Expos/privacy/lib/clustering/clustering.py:47: ConvergenceWarning: Number of distinct clusters (1) found smaller than n_clusters (2). Possibly due to duplicate points in X.
  kmeans = KMeans(n_clusters=N, random_state=0).fit(aggregated_features)
##########################################
######## Focusing Exposure Search ########
###########################################
+++++++++++++++++++++++++++++
+++++ gamma =  0 +++++
+++++++++++++++++++++++++++++
Estimate exposure user photos ...
Done!
#### CLUSTERING ####
Calculate clustering photo features ...
Done!                                                     ### DIVIDE FOR OBJECTNESS
Calculate clusters of users ...
Done!
##### REGRESSION #####
Calculate regression features ...
Done!
Combine and convert to numpy format ...
   job_search_IT
Number of training data:  61
Number of test data:  27
   bank_credit
Number of training data:  57
Number of test data:  24
   job_search_waiter_waitress
Number of training data:  64
Number of test data:  29
   accommodation_search
Number of training data:  69
Number of test data:  30
      job_search_IT
x_test:  [ 0.5422376   0.          1.37304586  0.02711875 -0.26136364  0.65900492]   y_test:  0.7142857142857143
x_test:  [ 0.32690399  0.          0.52312226  0.         -0.39772727  0.60001722]   y_test:  0.0
x_test:  [ 0.67000097  0.          1.28739926  0.         -1.          1.        ]   y_test:  0.2857142857142857
x_test:  [0.50834053 0.         0.88070861 0.25       0.         0.25      ]   y_test:  0.42857142857142855
x_test:  [ 0.00000000e+00 -5.45454545e-01  5.45454545e-01  3.71237001e-01
  6.93889390e-18  1.37146046e+00]   y_test:  0.8571428571428571
x_test:  [ 4.75859341e-01  0.00000000e+00  1.65666118e+00  5.55111512e-17
 -4.99125874e-01  1.45392650e+00]   y_test:  0.42857142857142855
x_test:  [ 1.09090909  0.          1.09090909  0.25       -0.0625      0.66143783]   y_test:  0.14285714285714285
x_test:  [ 0.3015699  -0.04166667  1.28965368  0.         -2.          2.        ]   y_test:  0.42857142857142855
x_test:  [ 0.         -0.34848485  0.65001589  0.44008264  0.          1.65909091]   y_test:  0.14285714285714285
x_test:  [ 0.         -0.25        0.4330127   0.35617191  0.          0.91042961]   y_test:  0.0
x_test:  [0.55517518 0.         1.11958835 1.         0.         1.41421356]   y_test:  0.8571428571428571
x_test:  [ 0.22600941 -0.09090909  0.86386841  1.          0.          1.        ]   y_test:  0.2857142857142857
x_test:  [ 1.09090909  0.          2.67217063  0.21213454 -0.16433566  1.43620275]   y_test:  1.1428571428571428
x_test:  [ 0.05       -0.34370629  0.92117108  1.09090909  0.          1.09090909]   y_test:  -0.2857142857142857
x_test:  [ 0.00000000e+00 -2.67045455e-01  5.34453455e-01  5.42002113e-01
  1.38777878e-17  1.31686001e+00]   y_test:  -0.2857142857142857
x_test:  [0.27272727 0.         0.27272727 0.25       0.         0.5       ]   y_test:  0.8571428571428571
x_test:  [ 0.325      -0.05454545  1.2688659   1.          0.          1.41421356]   y_test:  0.42857142857142855
x_test:  [ 0.20741966  0.          0.42898448  0.         -0.54545455  0.77138922]   y_test:  1.4285714285714286
x_test:  [ 1.35013379e-01  6.93889390e-18  4.35699362e-01  0.00000000e+00
 -2.50000000e-01  2.50000000e-01]   y_test:  0.14285714285714285
x_test:  [ 2.77555756e-17 -5.45454545e-01  9.44754986e-01  4.59493019e-01
  0.00000000e+00  7.14172472e-01]   y_test:  0.42857142857142855
x_test:  [ 1.09090909  0.          1.09090909  0.1875     -0.06818182  0.51174228]   y_test:  0.14285714285714285
x_test:  [ 0.09260623 -0.16193182  0.7946454   0.98863636  0.          2.43775825]   y_test:  1.1428571428571428
x_test:  [0.28756393 0.         1.10721763 1.         0.         2.        ]   y_test:  0.8571428571428571
x_test:  [ 0.         -0.54545455  0.77138922  0.26136364  0.          0.3699732 ]   y_test:  0.7142857142857143
x_test:  [ 0.         -0.5         1.06066017  0.53571429  0.          1.52069063]   y_test:  0.5714285714285714
x_test:  [0.58333333 0.         1.03077641 0.2027287  0.         0.2027287 ]   y_test:  0.42857142857142855
x_test:  [ 0.2337293   0.          0.78535502  0.         -0.77272727  1.13908764]   y_test:  -0.14285714285714285
      bank_credit
x_test:  [ 1.85627305e-01  1.38777878e-17  6.23809698e-01  0.00000000e+00
 -5.00000000e-01  5.00000000e-01]   y_test:  0.2857142857142857
x_test:  [ 0.15       -0.09615385  0.55068543  0.         -1.          1.        ]   y_test:  -0.42857142857142855
x_test:  [ 0.07692308 -0.24475524  0.58365431  0.         -0.92307692  0.92307692]   y_test:  -0.5714285714285714
x_test:  [ 0.23483817  0.          0.62904512  0.         -0.5         0.5       ]   y_test:  0.8571428571428571
x_test:  [ 5.00000000e-01  3.46944695e-18  1.11803399e+00  1.87500000e-01
 -6.25000000e-02  5.00000000e-01]   y_test:  0.5714285714285714
x_test:  [ 0.13724606 -0.16560712  1.05544183  0.         -2.          2.        ]   y_test:  0.2857142857142857
x_test:  [-1.38777878e-17 -3.56655649e-01  1.14079129e+00  2.71384643e-01
  0.00000000e+00  6.18317756e-01]   y_test:  -0.14285714285714285
x_test:  [ 0.         -2.01923077  2.94852285  0.01730843 -0.20833333  0.56858152]   y_test:  -0.14285714285714285
x_test:  [ 0.40625     0.          1.19895788  0.0625     -0.46394842  1.14633728]   y_test:  -0.2857142857142857
x_test:  [ 0.13186813 -0.14285714  0.68045408  0.         -0.75        0.75      ]   y_test:  -0.2857142857142857
x_test:  [ 2.83946030e-01 -1.38777878e-17  7.22912156e-01  0.00000000e+00
 -2.51748252e-01  3.57259854e-01]   y_test:  0.8571428571428571
x_test:  [0.24700471 0.         0.42966909 0.11284689 0.         0.11284689]   y_test:  0.2857142857142857
x_test:  [ 0.         -0.3013986   0.69769483  0.24144934  0.          0.34167499]   y_test:  0.14285714285714285
x_test:  [ 7.47617711e-02 -2.13942308e-01  8.86081383e-01  6.93889390e-18
 -2.00000000e+00  3.51781182e+00]   y_test:  -0.7142857142857143
x_test:  [ 0.         -0.25162338  0.94174315  0.18175399  0.          0.18175399]   y_test:  -0.5714285714285714
x_test:  [ 0.21966095  0.          0.5095722   0.         -0.46153846  0.65271395]   y_test:  0.42857142857142855
x_test:  [ 6.93889390e-18 -2.82428585e-01  8.79022562e-01  1.75091952e-01
 -1.36363636e-01  3.83297508e-01]   y_test:  -0.14285714285714285
x_test:  [ 0.         -0.31818182  0.67035824  0.25087317  0.          0.25087317]   y_test:  0.42857142857142855
x_test:  [0.09445252 0.         0.09445252 0.23371422 0.         0.47082063]   y_test:  -0.5714285714285714
x_test:  [ 0.08582597 -0.18181818  0.91082158  0.         -1.          1.41421356]   y_test:  0.7142857142857143
x_test:  [ 0.21753247 -0.03571429  0.67035824  0.4957265   0.          1.48762151]   y_test:  1.0
x_test:  [ 0.22582353  0.          0.54227029  0.         -0.34615385  0.51601569]   y_test:  0.7142857142857143
x_test:  [ 0.         -0.81818182  0.81818182  0.07142857 -0.18181818  0.67035824]   y_test:  0.8571428571428571
x_test:  [ 0.00000000e+00 -2.46153846e-01  5.50685426e-01  2.36554234e-01
  1.38777878e-17  6.74084487e-01]   y_test:  0.0
      job_search_waiter_waitress
x_test:  [ 0.21391094 -0.04958678  0.9332506   0.56643357  0.          2.05904576]   y_test:  0.42857142857142855
x_test:  [ 7.03841164e-01 -3.46944695e-18  2.37294336e+00  2.90744061e-01
 -3.40909091e-02  9.28608116e-01]   y_test:  0.7142857142857143
x_test:  [ 0.29454545 -0.05454545  0.82991586  1.09090909  0.          1.09090909]   y_test:  0.14285714285714285
x_test:  [ 0.         -0.28636364  0.40543824  0.28636364  0.          0.57337626]   y_test:  1.1428571428571428
x_test:  [0.54545455 0.         1.88950997 0.22994269 0.         0.32526841]   y_test:  0.42857142857142855
x_test:  [0.43909091 0.         1.47902693 0.92354723 0.         2.07844736]   y_test:  0.8571428571428571
x_test:  [ 9.84595388e-02 -9.09090909e-02  5.22339891e-01  7.27272727e-01
 -6.93889390e-18  1.27920430e+00]   y_test:  -0.2857142857142857
x_test:  [ 8.54929810e-01 -5.20417043e-18  4.22599420e+00  4.29317090e-01
 -2.09790210e-02  2.39250264e+00]   y_test:  1.2857142857142858
x_test:  [ 8.88927601e-01 -4.16333634e-17  4.51749341e+00  2.19043003e-01
 -2.23140496e-01  2.11176367e+00]   y_test:  1.4285714285714286
x_test:  [ 6.64714746e-01  1.73472348e-18  2.54813027e+00  2.31848846e-01
 -3.33333333e-02  8.30937146e-01]   y_test:  0.5714285714285714
x_test:  [ 0.75        0.          1.51848119  0.26438223 -0.02727273  0.9278051 ]   y_test:  0.0
x_test:  [ 0.00000000e+00 -2.72727273e-01  2.72727273e-01  3.49090909e-01
  3.46944695e-18  1.14675251e+00]   y_test:  0.7142857142857143
x_test:  [ 4.25249520e-01 -1.38777878e-17  2.03891588e+00  0.00000000e+00
 -1.63636364e+00  1.63636364e+00]   y_test:  0.2857142857142857
x_test:  [ 0.64545455  0.          1.60978413  0.18068182 -0.10227273  0.80118714]   y_test:  0.7142857142857143
x_test:  [ 1.93471696e-01 -9.91735537e-02  9.76097533e-01  6.27272727e-01
  1.38777878e-17  2.02259959e+00]   y_test:  -0.42857142857142855
x_test:  [0.86648225 0.         3.60586318 0.39721977 0.         1.62710017]   y_test:  0.7142857142857143
x_test:  [ 0.33273238 -0.01185771  1.69661596  0.         -0.28636364  0.40543824]   y_test:  0.14285714285714285
x_test:  [ 0.25681818 -0.02272727  0.96923758  0.54545455  0.          0.94475499]   y_test:  -0.2857142857142857
x_test:  [ 3.22314050e-01 -3.46944695e-18  1.09431287e+00  0.00000000e+00
 -3.00000000e-01  3.00000000e-01]   y_test:  0.5714285714285714
x_test:  [0.86986338 0.         5.11390815 0.37692068 0.         1.96982305]   y_test:  1.5714285714285714
x_test:  [ 2.95554076e-01 -1.73472348e-17  1.59363166e+00  5.55111512e-17
 -3.00000000e-01  5.19615242e-01]   y_test:  0.42857142857142855
x_test:  [ 3.39398833e-01  1.38777878e-17  1.75053501e+00  5.55111512e-17
 -3.63636364e-01  6.68042657e-01]   y_test:  0.2857142857142857
x_test:  [0.57954545 0.         1.65893524 0.28374083 0.         0.76983989]   y_test:  0.2857142857142857
x_test:  [ 0.91815466  0.          2.07747584  0.34480519 -0.01948052  1.42941357]   y_test:  0.14285714285714285
x_test:  [0.3        0.         0.42426407 0.58072624 0.         1.7461272 ]   y_test:  1.1428571428571428
x_test:  [ 3.26998250e-01  3.46944695e-18  1.18985763e+00  0.00000000e+00
 -2.72727273e-01  2.72727273e-01]   y_test:  0.14285714285714285
x_test:  [ 0.42        0.          1.38635618  0.         -0.28636364  0.40543824]   y_test:  0.7142857142857143
x_test:  [ 0.00000000e+00 -4.09090909e-01  6.09836721e-01  3.38755981e-01
  6.93889390e-18  1.52727273e+00]   y_test:  0.42857142857142855
x_test:  [ 0.35931037 -0.02727273  1.28845941  0.92825423  0.          2.65016109]   y_test:  0.14285714285714285
      accommodation_search
x_test:  [0.45196027 0.         2.35269794 0.24650532 0.         1.2405851 ]   y_test:  0.7142857142857143
x_test:  [ 0.23373216 -0.01442308  1.02588559  0.         -1.84615385  1.84615385]   y_test:  0.14285714285714285
x_test:  [ 0.28846154  0.          0.67362615  0.         -0.35096154  0.73606382]   y_test:  -0.2857142857142857
x_test:  [ 0.         -0.46153846  0.46153846  0.2231271   0.          0.50886477]   y_test:  -0.7142857142857143
x_test:  [0.24577346 0.         0.88694577 0.44634533 0.         1.09648067]   y_test:  0.8571428571428571
x_test:  [ 5.55111512e-17 -3.14102564e-01  5.73386597e-01  3.60589456e-01
  6.93889390e-18  1.53650638e+00]   y_test:  0.42857142857142855
x_test:  [ 0.23976572 -0.08144796  1.43497893  0.         -1.84615385  1.84615385]   y_test:  -0.14285714285714285
x_test:  [ 3.08975321e-01 -2.77555756e-17  1.53112710e+00  2.77555756e-17
 -2.47863248e-01  7.43810754e-01]   y_test:  -0.14285714285714285
x_test:  [ 0.2820803  -0.06521739  1.72089676  0.         -3.          3.        ]   y_test:  -0.2857142857142857
x_test:  [ 2.89529915e-01 -6.93889390e-18  1.28932233e+00  8.33333333e-02
 -2.43589744e-01  4.90667339e-01]   y_test:  0.0
x_test:  [ 0.26751374  0.          0.78571909  0.         -0.39102564  0.69895315]   y_test:  -0.5714285714285714
x_test:  [0.24748255 0.         0.80126316 0.50641026 0.         1.25752175]   y_test:  0.8571428571428571
x_test:  [ 2.17845810e-01 -1.64835165e-02  8.87923100e-01  4.90018658e-01
  1.73472348e-18  1.40388892e+00]   y_test:  -0.2857142857142857
x_test:  [ 0.325       0.          1.13461538  0.         -0.28846154  0.90914974]   y_test:  0.2857142857142857
x_test:  [ 0.32572595 -0.01775148  1.34022086  0.         -0.73763736  1.56106821]   y_test:  -0.2857142857142857
x_test:  [ 7.14285714e-02 -2.50000000e-01  7.50000000e-01  2.77472527e-01
 -1.38777878e-17  1.07589236e+00]   y_test:  0.0
x_test:  [ 2.97451728e-01  1.38777878e-17  1.34965117e+00  1.25000000e-01
 -4.61538462e-01  6.98953148e-01]   y_test:  1.0
x_test:  [ 2.27125148e-01 -2.09790210e-02  8.23070707e-01  4.95192308e-01
  1.73472348e-18  1.41682619e+00]   y_test:  0.5714285714285714
x_test:  [ 2.08333333e-01 -3.84615385e-02  8.55282921e-01  4.93117740e-01
 -3.46944695e-18  1.22799297e+00]   y_test:  1.2857142857142858
x_test:  [ 0.32204558  0.          1.64504426  0.         -0.25        0.4330127 ]   y_test:  0.0
x_test:  [0.25       0.         1.29903811 0.46153846 0.         0.46153846]   y_test:  0.5714285714285714
x_test:  [ 3.24544418e-01 -2.77555756e-17  1.42888043e+00  0.00000000e+00
 -3.14102564e-01  8.74101398e-01]   y_test:  0.5714285714285714
x_test:  [0.24615385 0.         0.7787868  0.4790593  0.         1.74415633]   y_test:  0.2857142857142857
x_test:  [ 1.01275428e-01 -1.37820513e-01  1.02107158e+00  6.53846154e-01
  1.38777878e-17  1.57692308e+00]   y_test:  0.5714285714285714
x_test:  [0.69230769 0.         0.69230769 0.45032051 0.         1.57469355]   y_test:  0.8571428571428571
x_test:  [ 3.88645377e-01  1.38777878e-17  1.67950971e+00  0.00000000e+00
 -3.07692308e-01  5.65266864e-01]   y_test:  0.7142857142857143
x_test:  [ 3.24666254e-01 -2.77555756e-17  1.29579779e+00  0.00000000e+00
 -5.96153846e-01  1.28025515e+00]   y_test:  1.0
x_test:  [ 0.00000000e+00 -4.61538462e-01  4.61538462e-01  2.94652084e-01
  3.46944695e-18  1.31851256e+00]   y_test:  0.42857142857142855
x_test:  [0.69230769 0.         0.69230769 0.39594798 0.         0.90275533]   y_test:  0.7142857142857143
x_test:  [ 0.1978022  -0.04370629  0.80198609  0.47863248  0.          1.43704167]   y_test:  -0.14285714285714285
Traceback (most recent call last):
  File "main.py", line 41, in <module>
    ablation_study()
  File "main.py", line 34, in ablation_study
    gamma_study(gamma_list, conf, root, gamma_file, normalize, regm, score_type, debug, train_all, feature_transform, load_active_detectors)
  File "/home/users/vnguyen/intern20/Vis-Priva-Expos/privacy/tools/ablation_studies/focusing_exposure.py", line 55, in gamma_study
    gamma_search[gamma] = parameter_search(root, gt_user_expo_situs, train_data, test_data, object_expo_situs, f_top, gamma, K, N, regm,
  File "/home/users/vnguyen/intern20/Vis-Priva-Expos/privacy/tools/ablation_studies/param_search.py", line 95, in parameter_search
    train_test_observe(train_test_batch_situs)
  File "/home/users/vnguyen/intern20/Vis-Priva-Expos/privacy/lib/analysis/train_test_regression.py", line 13, in train_test_observe
    assert 1 == 2
AssertionError
